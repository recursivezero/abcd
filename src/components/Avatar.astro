---
import { getInitials } from "@/utils/common";

interface Props {
  name: string;
  size?: number;
  textColor?: string;
  backgroundColor?: string;
  fontFamily?: string;
  fontWeight?: string | number;
  maxLength?: number;
}

const {
  name,
  size = 100,
  textColor = "#ffffff",
  backgroundColor = "#4f46e5",
  fontFamily = "system-ui, sans-serif",
  fontWeight = "bold"
} = Astro.props;

const initials = getInitials(name);
const fontSize = size * 0.4;
const borderRadius = size / 2;
---

<svg width={size} height={size} viewBox={`0 0 ${size} ${size}`} xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="100%" height="100%" rx={borderRadius} fill={backgroundColor}></rect>

  <!-- Perfectly centered text -->
  <text
    x="50%"
    y="50%"
    fill={textColor}
    font-family={fontFamily}
    font-weight={fontWeight}
    font-size={fontSize}
    text-anchor="middle"
    dominant-baseline="central"
  >
    {initials}
  </text>
</svg>
