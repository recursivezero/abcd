---
import "/src/assets/styles/journey/journey.css";
import "/src/assets/styles/journey/timeline.css";
import "/src/assets/styles/journey/form.css";
import BaseLayout from "@/layouts/Base";
import Back from "@/components/Back.astro";
import Help from "@/components/Help.astro";
---

<BaseLayout meta={{ title: "Journey" }}>
  <Back />
  <Fragment slot="header-right">
    <Help title="Journey" description="Create your Life Journey Timeline" />
  </Fragment>

  <div class="flex-col">
    <html lang="en">
      <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>My Life Journey Timeline</title>

        <!-- External JS file with all logic -->
        <script src="/src/assets/journey script/timeline.js" defer></script>
      </head>

      <body>
        <div class="page-container">
          <header>
            <h1 class="page-title">My Life Journey Timeline</h1>
            <p class="page-subtitle">Watch your life story grow like a beautiful plant</p>
            <button class="add-event-button" id="addEventBtn">ðŸŒ± Add New Event</button>
            <button class="print-pdf-button" onclick="window.print()">ðŸ“„ Download as PDF</button>
            <button class="theme-toggle-button" id="themeToggleBtn">ðŸŒ“ Toggle Theme</button>
          </header>

          <main class="timeline-wrapper" id="timelineWrapper" style="display: none;">
            <div class="timeline-container" id="timelineContainer">
              <div class="timeline-line"></div>
            </div>
          </main>

          <div class="empty-state" id="emptyState">
            <h2>Start Your Journey</h2>
            <p>Add your first life event to begin creating your timeline</p>
          </div>

          <div class="form-overlay" id="formOverlay">
            <form class="event-form" id="eventForm">
              <h2 class="form-title">Add / Edit Life Event</h2>
              <div class="form-group">
                <label for="eventDate">Date</label>
                <input type="text" id="eventDate" placeholder="e.g. 2020" required />
              </div>
              <div class="form-group">
                <label for="eventDesc">Description</label>
                <textarea id="eventDesc" placeholder="Describe your life event..." required></textarea>
              </div>
              <div class="form-buttons">
                <button type="button" class="form-button cancel-button" id="cancelBtn">Cancel</button>
                <button type="submit" class="form-button submit-button">Save</button>
              </div>
            </form>
          </div>
        </div>
      </body>
    </html>
  </div>
</BaseLayout>
